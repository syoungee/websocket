<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>chatting with web socket connection</title>
	</head>
	<script>
		const webSocket = new WebSocket('ws://localhost:3001');

		// connection successed
		webSocket.onopen = function () {
			alert('The connection to the websocket server was successful.');
		};

		// get message
		webSocket.onmessage = function (event) {
			alert(event.data);
		};

		// connection terminated
		webSocket.onclose = function () {
			alert('The connection with the websocket server has been closed.');
		};

		// error
		webSocket.onerror = function (error) {
			console.log(error);
		};

		function sendMessage() {
			const message = document.getElementById('message').value;
			webSocket.send(message);
		}
	</script>
	<body>
		<div>
			type messages:
			<input type="text" id="message" />
			<button type="button" onclick="sendMessage()">send</button>
		</div>
		<div></div>
	</body>
</html>
